<!doctype html>
<html lang="ja">
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fantasy & Beyond Museum</title>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script
        src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-detector.js"></script>
    <script
        src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-handler.js"></script>
    <link rel="stylesheet" href="css/ar.css">
</head>

<script>
    window.addEventListener('load', () => {
        const marker1 = document.getElementById("animated-marker1")
        const marker2 = document.getElementById("animated-marker2")
        const marker3 = document.getElementById("animated-marker3")

        marker1.addEventListener('markerFound', () => {
            let show1 = document.getElementById('show1');
            show1.style.display = 'block'
            show1.style.zIndex = '99'

            let show2 = document.getElementById('show2');
            show2.style.display = 'none'

            let show3 = document.getElementById('show3');
            show3.style.display = 'none'

            console.log("1")
        })

        marker2.addEventListener('markerFound', () => {
            let show2 = document.getElementById('show2');
            show2.style.display = 'block'
            show2.style.zIndex = '99'

            let show3 = document.getElementById('show3');
            show3.style.display = 'none'

            let show1 = document.getElementById('show1');
            show1.style.display = 'none'

            console.log("1")
        })

        marker3.addEventListener('markerFound', () => {
            let show3 = document.getElementById('show3');
            show3.style.display = 'block'
            show3.style.zIndex = '99'


            let show2 = document.getElementById('show2');
            show2.style.display = 'none'

            console.log("3")

            let show1 = document.getElementById('show1');
            show1.style.display = 'none'
        })
    })

    // AFRAME.registerComponent('markerhandler3', {
    //     init: function () {
    //         this.el.sceneEl.addEventListener('markerFound', () => {
    //             let show3 = document.getElementById('show3');
    //             show3.style.display = 'block'
    //             show3.style.zIndex = '99'


    //             let show2 = document.getElementById('show2');
    //             show2.style.display = 'none'

    //             console.log("3")
    //         })
    //     }
    // });

    // AFRAME.registerComponent('markerhandler2', {
    //     init: function () {
    //         this.el.sceneEl.addEventListener('markerFound', () => {
    //             let show2 = document.getElementById('show2');
    //             show2.style.display = 'block'
    //             show2.style.zIndex = '99'

    //             let show3 = document.getElementById('show3');
    //             show3.style.display = 'none'

    //             console.log("2")
    //         })
    //     }
    // });


</script>

<body style="margin: 0; overflow: hidden;">
    <h1>Fantasy & Beyond Museum</h1>
    <a href="index.html" class="back_a"><img class="back_btn" src="img/back_btn.svg" alt="戻るボタン"></a>

    <label for="menu" id="show1" class="label">
        <a href="detail1.html" class="detail_a">
            <img class="black_img" src="img/3image_black.png" alt="画像">
            <dl class="l_dl">
                <dt>Silverwing</dt>
                <dd>シルバーウィング</dd>
            </dl>
            <img class="plus_btn" src="img/plus_btn.svg" alt="詳細表示ボタン">
        </a>
    </label>

    <label for="menu" id="show3" class="label">
        <a href="detail3.html" class="detail_a">
            <img class="black_img" src="img/3image_black.png" alt="画像">
            <dl class="l_dl">
                <dt>Volcanosaurus</dt>
                <dd>ヴォルカノサウルス</dd>
            </dl>
            <img class="plus_btn" src="img/plus_btn.svg" alt="詳細表示ボタン">
        </a>
    </label>

    <label for="menu" id="show2" class="label">
        <a href="detail2.html" class="detail_a">
            <img class="black_img" src="img/2image_black.png" alt="画像">
            <dl class="l_dl">
                <dt>Grifolnux</dt>
                <dd>グリフォルヌクス</dd>
            </dl>
            <img class="plus_btn" src="img/plus_btn.svg" alt="詳細表示ボタン">
        </a>
    </label>


    <a-scene vr-mode-ui="enabled: false;" loading-screen="enabled: false;" renderer="logarithmicDepthBuffer: true;"
        arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;" id="scene" gesture-detector>
        <a-assets>
            <a-asset-item id="animated-asset3" src="assets/asset3.glb">
            <a-asset-item id="animated-asset2" src="assets/asset2.glb">
            <a-asset-item id="animated-asset1" src="assets/asset3.glb">
        </a-assets>

        <a-marker id="animated-marker1" markerhandler1 type="pattern" preset="custom" url="assets/marker1.patt"
            raycaster="objects: .clickable" emitevents="true" cursor="fuse: false; rayOrigin: mouse;" id="markerA">
            <a-entity id="bowser-model" scale="0.8 0.8 0.8" animation-mixer="loop: repeat" gltf-model="#animated-asset1"
                class="clickable" gesture-handler></a-entity>
        </a-marker>

        <a-marker id="animated-marker3" markerhandler3 type="pattern" preset="custom" url="assets/marker3.patt"
            raycaster="objects: .clickable" emitevents="true" cursor="fuse: false; rayOrigin: mouse;" id="markerA">
            <a-entity id="bowser-model" scale="0.8 0.8 0.8" animation-mixer="loop: repeat" gltf-model="#animated-asset3"
                class="clickable" gesture-handler></a-entity>
        </a-marker>

        <a-marker id="animated-marker2" markerhandler2 type="pattern" preset="custom" url="assets/marker2.patt"
            raycaster="objects: .clickable" emitevents="true" cursor="fuse: false; rayOrigin: mouse;" id="markerA">
            <a-entity id="bowser-model" scale="0.8 0.8 0.8" animation-mixer="loop: repeat" gltf-model="#animated-asset2"
                class="clickable" gesture-handler></a-entity>
        </a-marker>

        <a-entity camera>
        </a-entity>
    </a-scene>

</html>